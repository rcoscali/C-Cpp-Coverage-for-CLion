plugins {
    id 'java'
    id 'org.jetbrains.intellij' version '0.4.9'
    id 'org.jetbrains.kotlin.jvm' version '1.3.31'
}

group 'com.zero9178'
version '1.1.3'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk8"
    testCompile group: 'junit', name: 'junit', version: '4.12'
}

// See https://github.com/JetBrains/gradle-intellij-plugin/
intellij {
    version 'CL-2019.1.3'
    downloadSources true
}
runIde {
    jvmArgs '-Xmx2G'
}
compileKotlin {
    kotlinOptions.jvmTarget = "1.8"
}
compileTestKotlin {
    kotlinOptions.jvmTarget = "1.8"
}
patchPluginXml {
    changeNotes """
      1.1.3:Fixed bug with Coverage not working on Mac OS X. GCov now application wide and Configurable per Toolchain. WSL now supported.<br/>
      1.1.2:Fixed bug with Coverage not working in Linux and on older versions of GCC. Supported versions of gcov are now 4.8 to 8.2.<br/>
      1.1.1:Fixed bug with Coverage not running after normal application exit. Filepaths are now relative to project root if only showing project sources<br/>
      1.1:  Fixed bug with Coverage not working during tests. Fixed bug with incorrect File coverage displayed. Added clear button<br/>
      1.0:  Initial Release</br>"""
    description """
      C++ Coverage gatherer for GCC and Clang
"""
    version 2
}